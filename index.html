<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon ETL System v5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 280px; }
        .tab-btn.active { background-color: #3b82f6; color: white; }
        .lang-btn.active { background-color: #3b82f6; color: white; }
        .telegram-msg { font-family: -apple-system, sans-serif; background: #1e2a38; border-radius: 12px; padding: 12px 16px; max-width: 320px; }
        .schedule-item:hover { transform: translateX(4px); background: rgba(59, 130, 246, 0.1); }
    </style>
</head>
<body class="text-slate-800 h-screen flex flex-col md:flex-row overflow-hidden bg-slate-50">

    <!-- Sidebar -->
    <aside class="w-full md:w-64 bg-slate-900 text-white flex-shrink-0 flex flex-col">
        <div class="p-6 border-b border-slate-800">
            <div class="flex items-center justify-between mb-2">
                <h1 class="text-xl font-bold flex items-center gap-2">
                    <i class="fa-solid fa-network-wired text-blue-400"></i> ETL v5
                </h1>
                <div class="flex gap-1">
                    <button onclick="switchLang('en')" class="lang-btn px-2 py-1 text-xs rounded bg-slate-700 hover:bg-slate-600 active" id="lang-en">EN</button>
                    <button onclick="switchLang('uk')" class="lang-btn px-2 py-1 text-xs rounded bg-slate-700 hover:bg-slate-600" id="lang-uk">UA</button>
                </div>
            </div>
            <p class="text-slate-400 text-xs mt-1" data-en="Amazon Data Pipeline" data-uk="Amazon Ğ”Ğ°Ñ‚Ğ° ĞšĞ¾Ğ½Ğ²ĞµÑ”Ñ€">Amazon Data Pipeline</p>
        </div>
        
        <nav class="flex-1 overflow-y-auto p-4 space-y-2">
            <button onclick="switchTab('overview')" class="tab-btn w-full text-left px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors active" id="btn-overview">
                <i class="fa-solid fa-chart-line w-6"></i> <span data-en="Dashboard" data-uk="Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´">Dashboard</span>
            </button>
            <button onclick="switchTab('execution')" class="tab-btn w-full text-left px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors" id="btn-execution">
                <i class="fa-solid fa-clock-rotate-left w-6"></i> <span data-en="Execution" data-uk="Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ">Execution</span>
            </button>
            <button onclick="switchTab('architecture')" class="tab-btn w-full text-left px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors" id="btn-architecture">
                <i class="fa-solid fa-sitemap w-6"></i> <span data-en="Architecture" data-uk="ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°">Architecture</span>
            </button>
            <button onclick="switchTab('features')" class="tab-btn w-full text-left px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors" id="btn-features">
                <i class="fa-solid fa-list-check w-6"></i> <span data-en="Features" data-uk="ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–">Features</span>
            </button>
            <button onclick="switchTab('logic')" class="tab-btn w-full text-left px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors" id="btn-logic">
                <i class="fa-solid fa-microchip w-6"></i> <span data-en="Logic & API" data-uk="Ğ›Ğ¾Ğ³Ñ–ĞºĞ° Ñ‚Ğ° API">Logic & API</span>
            </button>
        </nav>

        <div class="p-4 border-t border-slate-800 text-xs text-slate-500">
            <div class="flex items-center gap-2 mb-2">
                <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                <span data-en="System Active" data-uk="Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°">System Active</span>
            </div>
            <div class="flex items-center gap-2">
                <i class="fa-brands fa-telegram text-blue-400"></i>
                <span>3 <span data-en="subscribers" data-uk="Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞ½Ğ¸ĞºÑ–Ğ²">subscribers</span></span>
            </div>
            <div class="mt-2 text-slate-600">v5.0.0 Unified</div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8">
        
        <header class="mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div>
                <h2 class="text-2xl font-bold text-slate-900" data-en="Unified ETL System" data-uk="Ğ„Ğ´Ğ¸Ğ½Ğ° ETL Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°">Unified ETL System</h2>
                <p class="text-slate-500 text-sm" data-en="Amazon Ads + SP-API â€¢ Self-Healing â€¢ Zero Maintenance" data-uk="Amazon Ads + SP-API â€¢ Ğ¡Ğ°Ğ¼Ğ¾Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ â€¢ ĞÑƒĞ»ÑŒ Ğ¾Ğ±ÑĞ»ÑƒĞ³Ğ¾Ğ²ÑƒĞ²Ğ°Ğ½Ğ½Ñ">Amazon Ads + SP-API â€¢ Self-Healing â€¢ Zero Maintenance</p>
            </div>
            <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold"><i class="fa-solid fa-check mr-1"></i> <span data-en="Production" data-uk="ĞŸÑ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½">Production</span></span>
                <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold"><i class="fa-solid fa-robot mr-1"></i> <span data-en="Silent Mode" data-uk="Ğ¢Ğ¸Ñ…Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼">Silent Mode</span></span>
            </div>
        </header>

        <!-- 1. DASHBOARD -->
        <div id="view-overview" class="space-y-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-bold uppercase mb-2" data-en="Daily Syncs" data-uk="Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ğ¹">Daily Syncs</div>
                    <div class="text-3xl font-bold text-slate-800">11</div>
                    <div class="text-xs text-slate-500 mt-1">5 ADS + 6 SP-API</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-bold uppercase mb-2" data-en="Reports" data-uk="Ğ—Ğ²Ñ–Ñ‚Ñ–Ğ²">Reports</div>
                    <div class="text-3xl font-bold text-slate-800">30+</div>
                    <div class="text-xs text-slate-500 mt-1" data-en="Types" data-uk="Ğ¢Ğ¸Ğ¿Ñ–Ğ²">Types</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-bold uppercase mb-2" data-en="Uptime" data-uk="ĞĞ¿Ñ‚Ğ°Ğ¹Ğ¼">Uptime</div>
                    <div class="text-3xl font-bold text-emerald-600">99.9%</div>
                    <div class="text-xs text-emerald-600 mt-1" data-en="Self-Healing" data-uk="Ğ¡Ğ°Ğ¼Ğ¾Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ">Self-Healing</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-bold uppercase mb-2" data-en="Alerts" data-uk="Ğ¡Ğ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ">Alerts</div>
                    <div class="text-3xl font-bold text-slate-800" data-en="Silent" data-uk="Ğ¢Ğ¸ÑˆĞ°">Silent</div>
                    <div class="text-xs text-emerald-600 mt-1">âœ“ <span data-en="All OK" data-uk="Ğ’ÑĞµ ĞĞš">All OK</span></div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800 flex items-center gap-2">
                        <span class="w-3 h-3 bg-orange-400 rounded-full"></span>
                        <span data-en="ADS API Schedule (Kyiv)" data-uk="ADS API Ğ Ğ¾Ğ·ĞºĞ»Ğ°Ğ´ (ĞšĞ¸Ñ—Ğ²)">ADS API Schedule (Kyiv)</span>
                    </h3>
                    <div class="space-y-2">
                        <div class="schedule-item flex items-center justify-between p-3 bg-slate-50 rounded-lg transition-all">
                            <div class="flex items-center gap-3"><span class="text-xl">ğŸŒ™</span><div><div class="font-medium">02:00</div><div class="text-xs text-slate-500" data-en="Deep Sync" data-uk="Ğ“Ğ»Ğ¸Ğ±Ğ¾ĞºĞ° ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ">Deep Sync</div></div></div>
                            <span class="px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium">30 <span data-en="days" data-uk="Ğ´Ğ½Ñ–Ğ²">days</span></span>
                        </div>
                        <div class="schedule-item flex items-center justify-between p-3 bg-slate-50 rounded-lg transition-all">
                            <div class="flex items-center gap-3"><span class="text-xl">â˜€ï¸</span><div><div class="font-medium">06:00, 10:00, 14:00, 18:00</div><div class="text-xs text-slate-500" data-en="Quick Sync" data-uk="Ğ¨Ğ²Ğ¸Ğ´ĞºĞ° ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ">Quick Sync</div></div></div>
                            <span class="px-2 py-1 bg-slate-200 text-slate-700 text-xs rounded-full font-medium">7 <span data-en="days" data-uk="Ğ´Ğ½Ñ–Ğ²">days</span></span>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800 flex items-center gap-2">
                        <span class="w-3 h-3 bg-emerald-400 rounded-full"></span>
                        <span data-en="SP-API Schedule (Kyiv)" data-uk="SP-API Ğ Ğ¾Ğ·ĞºĞ»Ğ°Ğ´ (ĞšĞ¸Ñ—Ğ²)">SP-API Schedule (Kyiv)</span>
                    </h3>
                    <div class="space-y-2">
                        <div class="schedule-item flex items-center justify-between p-3 bg-slate-50 rounded-lg transition-all">
                            <div class="flex items-center gap-3"><span class="text-xl">ğŸ“Š</span><div><div class="font-medium">03:00</div><div class="text-xs text-slate-500">Settlements, Fees, Listings</div></div></div>
                            <span class="px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full font-medium">daily</span>
                        </div>
                        <div class="schedule-item flex items-center justify-between p-3 bg-slate-50 rounded-lg transition-all">
                            <div class="flex items-center gap-3"><span class="text-xl">ğŸ”„</span><div><div class="font-medium">04:00, 08:00, 12:00, 16:00, 20:00</div><div class="text-xs text-slate-500">Inventory, Orders</div></div></div>
                            <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium">4h</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="System Efficiency" data-uk="Ğ•Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸">System Efficiency</h3>
                <div class="chart-container"><canvas id="efficiencyChart"></canvas></div>
            </div>

            <!-- Telegram Preview on Dashboard -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800 flex items-center gap-2">
                    <i class="fa-brands fa-telegram text-blue-500"></i>
                    <span data-en="Notification Examples" data-uk="ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½ÑŒ">Notification Examples</span>
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="p-4 bg-slate-50 rounded-lg text-center"><div class="text-2xl mb-2">ğŸ”‡</div><div class="font-bold text-sm" data-en="All OK" data-uk="Ğ’ÑĞµ ĞĞš">All OK</div><div class="text-xs text-slate-500" data-en="Silence" data-uk="Ğ¢Ğ¸ÑˆĞ°">Silence</div></div>
                    <div class="p-4 bg-yellow-50 rounded-lg text-center"><div class="text-2xl mb-2">âš ï¸</div><div class="font-bold text-sm">Warning</div><div class="text-xs text-slate-500">Data &lt; 60%</div></div>
                    <div class="p-4 bg-red-50 rounded-lg text-center"><div class="text-2xl mb-2">ğŸ”´</div><div class="font-bold text-sm">Critical</div><div class="text-xs text-slate-500">Data &lt; 30%</div></div>
                    <div class="p-4 bg-red-50 rounded-lg text-center"><div class="text-2xl mb-2">âŒ</div><div class="font-bold text-sm">Error</div><div class="text-xs text-slate-500" data-en="System failure" data-uk="Ğ—Ğ±Ñ–Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸">System failure</div></div>
                </div>
            </div>
        </div>

        <!-- 2. EXECUTION -->
        <div id="view-execution" class="hidden space-y-6">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl shadow-lg text-white">
                <div class="flex items-center justify-between mb-4">
                    <div><h3 class="text-xl font-bold" data-en="Latest Execution" data-uk="ĞÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ">Latest Execution</h3><p class="text-blue-100 text-sm">Dec 09, 2025 02:00 Kyiv</p></div>
                    <div class="text-right"><div class="text-3xl font-bold">54 <span data-en="min" data-uk="Ñ…Ğ²">min</span></div></div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-white bg-opacity-20 rounded-lg p-3"><div class="text-2xl font-bold">71.7K</div><div class="text-xs text-blue-100">Rows ADS</div></div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3"><div class="text-2xl font-bold">6K</div><div class="text-xs text-blue-100">Rows SP-API</div></div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3"><div class="text-2xl font-bold">3/3</div><div class="text-xs text-blue-100">ADS Loaders</div></div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3"><div class="text-2xl font-bold">100%</div><div class="text-xs text-blue-100">Success</div></div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="ADS Loaders" data-uk="ADS Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‡Ñ–">ADS Loaders</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-slate-50 rounded-lg"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-xl">ğŸ“¦</div><div><div class="font-bold">SP Loader</div><div class="text-xs text-slate-500">15 min â€¢ 68,300 rows</div></div></div><span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-bold">âœ… SUCCESS</span></div>
                    <div class="flex items-center justify-between p-4 bg-slate-50 rounded-lg"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center text-xl">ğŸ§²</div><div><div class="font-bold">SB Loader</div><div class="text-xs text-slate-500">14 min â€¢ 1,800 rows</div></div></div><span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-bold">âœ… SUCCESS</span></div>
                    <div class="flex items-center justify-between p-4 bg-slate-50 rounded-lg"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-xl">ğŸ¯</div><div><div class="font-bold">SD Loader</div><div class="text-xs text-slate-500">16 min â€¢ 1,600 rows</div></div></div><span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-bold">âœ… SUCCESS</span></div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="SP-API Reports" data-uk="SP-API Ğ—Ğ²Ñ–Ñ‚Ğ¸">SP-API Reports</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                    <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-lg"><span class="text-sm font-medium">fba_inventory</span><span class="text-emerald-600 font-bold text-xs float-right">âœ… 1,500</span></div>
                    <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-lg"><span class="text-sm font-medium">orders_by_date</span><span class="text-emerald-600 font-bold text-xs float-right">âœ… 3,200</span></div>
                    <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-lg"><span class="text-sm font-medium">settlements</span><span class="text-emerald-600 font-bold text-xs float-right">âœ… 850</span></div>
                    <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-lg"><span class="text-sm font-medium">fba_fees</span><span class="text-emerald-600 font-bold text-xs float-right">âœ… 490</span></div>
                    <div class="p-3 bg-slate-50 border border-slate-200 rounded-lg"><span class="text-sm font-medium text-slate-500">storage_fees</span><span class="text-slate-400 font-bold text-xs float-right">âšª 0</span></div>
                    <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-lg"><span class="text-sm font-medium">merchant_listings</span><span class="text-emerald-600 font-bold text-xs float-right">âœ… 450</span></div>
                </div>
            </div>

            <!-- Telegram Examples in Execution -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800 flex items-center gap-2"><i class="fa-brands fa-telegram text-blue-500"></i> <span data-en="Telegram Alerts" data-uk="Telegram ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ">Telegram Alerts</span></h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div><div class="text-xs text-emerald-600 uppercase mb-2">âœ… Success</div><div class="telegram-msg text-sm text-white"><div class="font-bold mb-1">âœ… ADS LOADER</div><div class="text-slate-400 text-xs mb-2">ğŸ“… 7Ğ´ | â±ï¸ 45Ñ…Ğ²</div><div class="text-slate-300 text-xs">ğŸ“¦ SP: âœ… 68,300<br>ğŸ§² SB: âœ… 1,800<br>ğŸ¯ SD: âœ… 1,600</div><div class="mt-2 pt-2 border-t border-slate-700 text-xs text-slate-400">ğŸ’¾ 71,700 | â³ 14:00</div></div></div>
                    <div><div class="text-xs text-yellow-600 uppercase mb-2">âš ï¸ Warning</div><div class="telegram-msg text-sm text-white"><div class="font-bold text-yellow-400 mb-2">âš ï¸ DATA WARNING</div><div class="text-slate-300 text-xs">ğŸ“Š ads_sp_campaign<br>ğŸ”¢ 45,000 (Ğ½Ğ¾Ñ€Ğ¼Ğ°: 68,000)<br>ğŸ“‰ 66%</div></div></div>
                    <div><div class="text-xs text-red-600 uppercase mb-2">âŒ Error</div><div class="telegram-msg text-sm text-white"><div class="font-bold text-red-400 mb-2">âŒ SP-API FAILED</div><div class="text-slate-300 text-xs">â„¹ï¸ Token Error: LWA expired</div></div></div>
                </div>
            </div>
        </div>

        <!-- 3. ARCHITECTURE -->
        <div id="view-architecture" class="hidden space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="Project Structure" data-uk="Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ">Project Structure</h3>
                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm text-slate-300 overflow-x-auto">
<pre><span class="text-blue-400">project/</span>
â”œâ”€â”€ <span class="text-yellow-400">ğŸ“ Config</span>
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ telegram_subscribers.json <span class="text-emerald-400">NEW</span>
â”‚   â””â”€â”€ circuit_state.json
â”‚
â”œâ”€â”€ <span class="text-purple-400">ğŸ“ Core</span>
â”‚   â”œâ”€â”€ <span class="text-white font-bold">run_forever.py</span> <span class="text-emerald-400">â† Unified</span>
â”‚   â”œâ”€â”€ master_ads_loader_v4.py
â”‚   â”œâ”€â”€ base_loader.py
â”‚   â”œâ”€â”€ circuit_breaker.py
â”‚   â””â”€â”€ <span class="text-white font-bold">telegram_notifier.py</span> <span class="text-emerald-400">v3.1</span>
â”‚
â”œâ”€â”€ <span class="text-orange-400">ğŸ“ Ads Workers</span>
â”‚   â”œâ”€â”€ sp_loader_4h_senior.py
â”‚   â”œâ”€â”€ sb_loader_4h_senior.py
â”‚   â””â”€â”€ sd_loader_4h_senior.py
â”‚
â””â”€â”€ <span class="text-emerald-400">ğŸ“ SPAPI_Workers</span> <span class="text-emerald-400">NEW</span>
    â”œâ”€â”€ spapi_base.py
    â”œâ”€â”€ spapi_config.py
    â””â”€â”€ spapi_loader.py</pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="System Flow" data-uk="ĞŸĞ¾Ñ‚Ñ–Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸">System Flow</h3>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4"><div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 font-bold">1</div><div><div class="font-bold">run_forever.py</div><div class="text-xs text-slate-500" data-en="Scheduler + Telegram Bot" data-uk="ĞŸĞ»Ğ°Ğ½ÑƒĞ²Ğ°Ğ»ÑŒĞ½Ğ¸Ğº + Telegram Bot">Scheduler + Telegram Bot</div></div></div>
                        <div class="ml-6 border-l-2 border-slate-200 h-4"></div>
                        <div class="flex items-center gap-4"><div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600 font-bold">2a</div><div><div class="font-bold">master_ads_loader_v4.py</div><div class="text-xs text-slate-500">SP, SB, SD (parallel)</div></div></div>
                        <div class="flex items-center gap-4"><div class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center text-emerald-600 font-bold">2b</div><div><div class="font-bold">spapi_loader.py</div><div class="text-xs text-slate-500">Inventory, Orders, Settlements</div></div></div>
                        <div class="ml-6 border-l-2 border-slate-200 h-4"></div>
                        <div class="flex items-center gap-4"><div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 font-bold">3</div><div><div class="font-bold">PostgreSQL</div><div class="text-xs text-slate-500">UPSERT + Schema Evolution</div></div></div>
                        <div class="ml-6 border-l-2 border-slate-200 h-4"></div>
                        <div class="flex items-center gap-4"><div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 font-bold">4</div><div><div class="font-bold">telegram_notifier.py</div><div class="text-xs text-slate-500" data-en="Alerts on errors" data-uk="Ğ¡Ğ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°Ñ…">Alerts on errors</div></div></div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="API Ecosystem" data-uk="Ğ•ĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° API">API Ecosystem</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="p-4 border-l-4 border-orange-400 bg-orange-50 rounded-r-lg">
                        <div class="font-bold text-slate-800">Amazon Ads API</div>
                        <div class="text-xs text-slate-500 font-mono mt-1">advertising-api.amazon.com</div>
                        <div class="flex gap-2 mt-3"><span class="px-2 py-1 bg-white text-xs rounded">SP</span><span class="px-2 py-1 bg-white text-xs rounded">SB</span><span class="px-2 py-1 bg-white text-xs rounded">SD</span></div>
                        <p class="text-sm text-slate-600 mt-3" data-en="Impressions, Clicks, ACOS, ROAS" data-uk="ĞŸĞ¾ĞºĞ°Ğ·Ğ¸, ĞšĞ»Ñ–ĞºĞ¸, ACOS, ROAS">Impressions, Clicks, ACOS, ROAS</p>
                    </div>
                    <div class="p-4 border-l-4 border-emerald-400 bg-emerald-50 rounded-r-lg">
                        <div class="font-bold text-slate-800">Selling Partner API</div>
                        <div class="text-xs text-slate-500 font-mono mt-1">sellingpartnerapi-na.amazon.com</div>
                        <div class="flex gap-2 mt-3"><span class="px-2 py-1 bg-white text-xs rounded">Inventory</span><span class="px-2 py-1 bg-white text-xs rounded">Orders</span><span class="px-2 py-1 bg-white text-xs rounded">Finance</span></div>
                        <p class="text-sm text-slate-600 mt-3" data-en="Inventory, Orders, Settlements, Fees" data-uk="Ğ†Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€, Ğ—Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ, Ğ Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ½ĞºĞ¸, ĞšĞ¾Ğ¼Ñ–ÑÑ–Ñ—">Inventory, Orders, Settlements, Fees</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. FEATURES -->
        <div id="view-features" class="hidden space-y-6">
            <!-- Radar Chart -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="System Capabilities" data-uk="ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸">System Capabilities</h3>
                <div class="chart-container"><canvas id="featuresChart"></canvas></div>
            </div>

            <!-- Features Matrix -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-lg mb-6 text-slate-800" data-en="Features Matrix" data-uk="ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ñ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹">Features Matrix</h3>
                
                <div class="space-y-4">
                    <!-- Anti-Zombie -->
                    <div class="p-5 border-l-4 border-emerald-500 bg-gradient-to-r from-emerald-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ§Ÿ</span>
                                <div class="font-bold text-slate-800 text-lg">Anti-Zombie</div>
                            </div>
                            <span class="px-3 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full font-medium" data-en="Reliability" data-uk="ĞĞ°Ğ´Ñ–Ğ¹Ğ½Ñ–ÑÑ‚ÑŒ">Reliability</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Distinguishes between 'slow' and 'dead'. If API returns None 10 times in a row (10 min), the worker self-terminates, allowing Master to restart it. Prevents zombie processes that consume resources without doing useful work." data-uk="Ğ Ğ¾Ğ·Ñ€Ñ–Ğ·Ğ½ÑÑ” 'Ğ¿Ğ¾Ğ²Ñ–Ğ»ÑŒĞ½Ğ¸Ğ¹' Ñ‚Ğ° 'Ğ¼ĞµÑ€Ñ‚Ğ²Ğ¸Ğ¹'. Ğ¯ĞºÑ‰Ğ¾ API Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” None 10 Ñ€Ğ°Ğ·Ñ–Ğ² Ğ¿Ğ¾ÑĞ¿Ñ–Ğ»ÑŒ (10 Ñ…Ğ²), Ğ²Ğ¾Ñ€ĞºĞµÑ€ ÑĞ°Ğ¼Ğ¾-Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑƒÑ”Ñ‚ÑŒÑÑ, Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑÑ‡Ğ¸ Master Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¹Ğ¾Ğ³Ğ¾. Ğ—Ğ°Ğ¿Ğ¾Ğ±Ñ–Ğ³Ğ°Ñ” Ğ·Ğ¾Ğ¼Ğ±Ñ–-Ğ¿Ñ€Ğ¾Ñ†ĞµÑĞ°Ğ¼, Ñ‰Ğ¾ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ÑŒ Ñ€ĞµÑÑƒÑ€ÑĞ¸ Ğ±ĞµĞ· ĞºĞ¾Ñ€Ğ¸ÑĞ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸.">Distinguishes between 'slow' and 'dead'. If API returns None 10 times in a row (10 min), the worker self-terminates, allowing Master to restart it. Prevents zombie processes that consume resources without doing useful work.</p>
                    </div>

                    <!-- Circuit Breaker -->
                    <div class="p-5 border-l-4 border-blue-500 bg-gradient-to-r from-blue-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">âš¡</span>
                                <div class="font-bold text-slate-800 text-lg">Circuit Breaker</div>
                            </div>
                            <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium" data-en="Security" data-uk="Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ°">Security</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Prevents API ban. If API fails 3 times globally, system enters 'Cooldown' state for 30 minutes before retry. Protects against rate limiting and temporary outages. State persists in circuit_state.json across restarts." data-uk="Ğ—Ğ°Ğ¿Ğ¾Ğ±Ñ–Ğ³Ğ°Ñ” Ğ±Ğ°Ğ½Ñƒ API. Ğ¯ĞºÑ‰Ğ¾ API Ğ¿Ğ°Ğ´Ğ°Ñ” 3 Ñ€Ğ°Ğ·Ğ¸ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾, ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ² ÑÑ‚Ğ°Ğ½ 'ĞÑ…Ğ¾Ğ»Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ' Ğ½Ğ° 30 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½ Ğ¿ĞµÑ€ĞµĞ´ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ ÑĞ¿Ñ€Ğ¾Ğ±Ğ¾Ñ. Ğ—Ğ°Ñ…Ğ¸Ñ‰Ğ°Ñ” Ğ²Ñ–Ğ´ rate limiting Ñ‚Ğ° Ñ‚Ğ¸Ğ¼Ñ‡Ğ°ÑĞ¾Ğ²Ğ¸Ñ… Ğ·Ğ±Ğ¾Ñ—Ğ². Ğ¡Ñ‚Ğ°Ğ½ Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ² circuit_state.json Ğ¼Ñ–Ğ¶ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°Ğ¼Ğ¸.">Prevents API ban. If API fails 3 times globally, system enters 'Cooldown' state for 30 minutes before retry. Protects against rate limiting and temporary outages. State persists in circuit_state.json across restarts.</p>
                    </div>

                    <!-- Auto-Fix 400 -->
                    <div class="p-5 border-l-4 border-purple-500 bg-gradient-to-r from-purple-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ”§</span>
                                <div class="font-bold text-slate-800 text-lg">Auto-Fix 400</div>
                            </div>
                            <span class="px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full font-medium" data-en="Self-Healing" data-uk="Ğ¡Ğ°Ğ¼Ğ¾Ğ»Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ">Self-Healing</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Automatically handles HTTP 400 errors caused by deprecated API fields. Parses error message, identifies bad column, removes it from request, and retries. Zero manual intervention required. Logs all auto-fixes for audit." data-uk="ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ÑÑ” HTTP 400 Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ²Ñ–Ğ´ Ğ·Ğ°ÑÑ‚Ğ°Ñ€Ñ–Ğ»Ğ¸Ñ… Ğ¿Ğ¾Ğ»Ñ–Ğ² API. ĞŸĞ°Ñ€ÑĞ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ, Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ” Ğ¿Ğ¾Ğ³Ğ°Ğ½Ñƒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ, Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ” Ñ—Ñ— Ğ· Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñƒ Ñ– Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”. ĞÑƒĞ»ÑŒ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ‚Ñ€ÑƒÑ‡Ğ°Ğ½Ğ½Ñ. Ğ›Ğ¾Ğ³ÑƒÑ” Ğ²ÑÑ– Ğ°Ğ²Ñ‚Ğ¾-Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ´Ğ»Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ñƒ.">Automatically handles HTTP 400 errors caused by deprecated API fields. Parses error message, identifies bad column, removes it from request, and retries. Zero manual intervention required. Logs all auto-fixes for audit.</p>
                    </div>

                    <!-- Schema Evolution -->
                    <div class="p-5 border-l-4 border-orange-500 bg-gradient-to-r from-orange-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ§¬</span>
                                <div class="font-bold text-slate-800 text-lg">Schema Evolution</div>
                            </div>
                            <span class="px-3 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium" data-en="Flexibility" data-uk="Ğ“Ğ½ÑƒÑ‡ĞºÑ–ÑÑ‚ÑŒ">Flexibility</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Database adapts to API changes automatically. When Amazon adds new fields to reports, system detects them and adds columns to PostgreSQL on-the-fly. No migrations, no downtime. Column names normalized to 63 chars max." data-uk="Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ°Ğ´Ğ°Ğ¿Ñ‚ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ¾ Ğ·Ğ¼Ñ–Ğ½ API Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾. ĞšĞ¾Ğ»Ğ¸ Amazon Ğ´Ğ¾Ğ´Ğ°Ñ” Ğ½Ğ¾Ğ²Ñ– Ğ¿Ğ¾Ğ»Ñ Ğ´Ğ¾ Ğ·Ğ²Ñ–Ñ‚Ñ–Ğ², ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ğ¸ÑĞ²Ğ»ÑÑ” Ñ—Ñ… Ñ– Ğ´Ğ¾Ğ´Ğ°Ñ” ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ Ğ´Ğ¾ PostgreSQL Ğ½Ğ° Ğ»ÑŒĞ¾Ñ‚Ñƒ. Ğ‘ĞµĞ· Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ğ¹, Ğ±ĞµĞ· Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ. ĞĞ°Ğ·Ğ²Ğ¸ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·ÑƒÑÑ‚ÑŒÑÑ Ğ´Ğ¾ 63 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ² Ğ¼Ğ°ĞºÑ.">Database adapts to API changes automatically. When Amazon adds new fields to reports, system detects them and adds columns to PostgreSQL on-the-fly. No migrations, no downtime. Column names normalized to 63 chars max.</p>
                    </div>

                    <!-- UPSERT Deduplication -->
                    <div class="p-5 border-l-4 border-cyan-500 bg-gradient-to-r from-cyan-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ”„</span>
                                <div class="font-bold text-slate-800 text-lg">UPSERT Deduplication</div>
                            </div>
                            <span class="px-3 py-1 bg-cyan-100 text-cyan-700 text-xs rounded-full font-medium" data-en="Data Integrity" data-uk="Ğ¦Ñ–Ğ»Ñ–ÑĞ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ¸Ñ…">Data Integrity</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="INSERT ... ON CONFLICT UPDATE ensures no duplicate records. Each report has a unique conflict_key (composite of date + campaign_id + ad_group_id etc). Safe to re-run any time without data corruption." data-uk="INSERT ... ON CONFLICT UPDATE Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ” Ğ²Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ–ÑÑ‚ÑŒ Ğ´ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ‚Ñ–Ğ². ĞšĞ¾Ğ¶ĞµĞ½ Ğ·Ğ²Ñ–Ñ‚ Ğ¼Ğ°Ñ” ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ conflict_key (ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ‚ Ğ´Ğ°Ñ‚Ğ¸ + campaign_id + ad_group_id Ñ‚Ğ¾Ñ‰Ğ¾). Ğ‘ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚Ğ¸ Ğ±ÑƒĞ´ÑŒ-ĞºĞ¾Ğ»Ğ¸ Ğ±ĞµĞ· Ğ¿Ğ¾ÑˆĞºĞ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ….">INSERT ... ON CONFLICT UPDATE ensures no duplicate records. Each report has a unique conflict_key (composite of date + campaign_id + ad_group_id etc). Safe to re-run any time without data corruption.</p>
                    </div>

                    <!-- Parallel Execution -->
                    <div class="p-5 border-l-4 border-pink-500 bg-gradient-to-r from-pink-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸš€</span>
                                <div class="font-bold text-slate-800 text-lg">Parallel Execution</div>
                            </div>
                            <span class="px-3 py-1 bg-pink-100 text-pink-700 text-xs rounded-full font-medium" data-en="Performance" data-uk="ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ">Performance</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="SP, SB, SD loaders run simultaneously via ThreadPoolExecutor. 3x faster than sequential. Each loader is independent with own error handling. Master aggregates results and calculates total stats." data-uk="SP, SB, SD Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‡Ñ– Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· ThreadPoolExecutor. Ğ’ 3 Ñ€Ğ°Ğ·Ğ¸ ÑˆĞ²Ğ¸Ğ´ÑˆĞµ Ğ½Ñ–Ğ¶ Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾. ĞšĞ¾Ğ¶ĞµĞ½ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‡ Ğ½ĞµĞ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¸Ğ¹ Ğ· Ğ²Ğ»Ğ°ÑĞ½Ğ¾Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¾Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº. Master Ğ°Ğ³Ñ€ĞµĞ³ÑƒÑ” Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ Ñ– Ñ€Ğ°Ñ…ÑƒÑ” Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ñƒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ.">SP, SB, SD loaders run simultaneously via ThreadPoolExecutor. 3x faster than sequential. Each loader is independent with own error handling. Master aggregates results and calculates total stats.</p>
                    </div>

                    <!-- Silent Mode -->
                    <div class="p-5 border-l-4 border-slate-500 bg-gradient-to-r from-slate-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ”‡</span>
                                <div class="font-bold text-slate-800 text-lg">Silent Mode</div>
                            </div>
                            <span class="px-3 py-1 bg-slate-200 text-slate-700 text-xs rounded-full font-medium" data-en="UX" data-uk="UX">UX</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="No spam when everything works. Telegram notifications only on errors, warnings (<60% data), or critical alerts (<30% data). Success messages suppressed by default. Toggle with silent_success=False if needed." data-uk="Ğ–Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ°Ğ¼Ñƒ ĞºĞ¾Ğ»Ğ¸ Ğ²ÑĞµ Ğ¿Ñ€Ğ°Ñ†ÑÑ”. Telegram ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°Ñ…, Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ¶ĞµĞ½Ğ½ÑÑ… (<60% Ğ´Ğ°Ğ½Ğ¸Ñ…), Ğ°Ğ±Ğ¾ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ñ… Ğ°Ğ»ĞµÑ€Ñ‚Ğ°Ñ… (<30% Ğ´Ğ°Ğ½Ğ¸Ñ…). ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ ÑƒÑĞ¿Ñ–Ñ… Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼. ĞŸĞµÑ€ĞµĞ¼Ğ¸ĞºĞ°Ñ”Ñ‚ÑŒÑÑ Ñ‡ĞµÑ€ĞµĞ· silent_success=False ÑĞºÑ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾.">No spam when everything works. Telegram notifications only on errors, warnings (&lt;60% data), or critical alerts (&lt;30% data). Success messages suppressed by default. Toggle with silent_success=False if needed.</p>
                    </div>

                    <!-- Data Anomaly Detection -->
                    <div class="p-5 border-l-4 border-yellow-500 bg-gradient-to-r from-yellow-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ“Š</span>
                                <div class="font-bold text-slate-800 text-lg">Data Anomaly Detection</div>
                            </div>
                            <span class="px-3 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium" data-en="Monitoring" data-uk="ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³">Monitoring</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Compares today's row count against 7-day average. If data is 30-60% of normal â†’ Warning. If <30% â†’ Critical alert. Catches Amazon API issues, campaign pauses, or sync failures early before they become problems." data-uk="ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑÑ” ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ñ€ÑĞ´ĞºÑ–Ğ² Ğ·Ğ° ÑÑŒĞ¾Ğ³Ğ¾Ğ´Ğ½Ñ– Ğ· ÑĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¼ Ğ·Ğ° 7 Ğ´Ğ½Ñ–Ğ². Ğ¯ĞºÑ‰Ğ¾ Ğ´Ğ°Ğ½Ñ– 30-60% Ğ²Ñ–Ğ´ Ğ½Ğ¾Ñ€Ğ¼Ğ¸ â†’ ĞŸĞ¾Ğ¿ĞµÑ€ĞµĞ´Ğ¶ĞµĞ½Ğ½Ñ. Ğ¯ĞºÑ‰Ğ¾ <30% â†’ ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ğ°Ğ»ĞµÑ€Ñ‚. Ğ’Ğ¸ÑĞ²Ğ»ÑÑ” Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸ Amazon API, Ğ¿Ğ°ÑƒĞ·Ğ¸ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ñ–Ğ¹ Ğ°Ğ±Ğ¾ Ğ·Ğ±Ğ¾Ñ— ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ñ€Ğ°Ğ½Ğ¾, Ğ´Ğ¾ Ñ‚Ğ¾Ğ³Ğ¾ ÑĞº Ğ²Ğ¾Ğ½Ğ¸ ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°Ğ¼Ğ¸.">Compares today's row count against 7-day average. If data is 30-60% of normal â†’ Warning. If &lt;30% â†’ Critical alert. Catches Amazon API issues, campaign pauses, or sync failures early before they become problems.</p>
                    </div>

                    <!-- Graceful Shutdown -->
                    <div class="p-5 border-l-4 border-red-500 bg-gradient-to-r from-red-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ›‘</span>
                                <div class="font-bold text-slate-800 text-lg">Graceful Shutdown</div>
                            </div>
                            <span class="px-3 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium" data-en="Safety" data-uk="Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ°">Safety</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Handles SIGTERM/SIGINT signals properly. Completes current database transaction before exit. No corrupted data, no orphaned connections. Exit code 143 indicates clean termination. Safe for Docker, systemd, Kubernetes." data-uk="ĞĞ±Ñ€Ğ¾Ğ±Ğ»ÑÑ” ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¸ SIGTERM/SIGINT Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾. Ğ—Ğ°Ğ²ĞµÑ€ÑˆÑƒÑ” Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ñƒ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ñ–Ñ Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ğ¸Ñ…Ğ¾Ğ´Ğ¾Ğ¼. Ğ–Ğ¾Ğ´Ğ½Ğ¸Ñ… Ğ¿Ğ¾ÑˆĞºĞ¾Ğ´Ğ¶ĞµĞ½Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ…, Ğ¶Ğ¾Ğ´Ğ½Ğ¸Ñ… Ğ¾ÑĞ¸Ñ€Ğ¾Ñ‚Ñ–Ğ»Ğ¸Ñ… Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½ÑŒ. Exit code 143 Ğ²ĞºĞ°Ğ·ÑƒÑ” Ğ½Ğ° Ñ‡Ğ¸ÑÑ‚Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ. Ğ‘ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Docker, systemd, Kubernetes.">Handles SIGTERM/SIGINT signals properly. Completes current database transaction before exit. No corrupted data, no orphaned connections. Exit code 143 indicates clean termination. Safe for Docker, systemd, Kubernetes.</p>
                    </div>

                    <!-- Settlements Special Processing -->
                    <div class="p-5 border-l-4 border-indigo-500 bg-gradient-to-r from-indigo-50 to-white rounded-r-xl relative">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">ğŸ’°</span>
                                <div class="font-bold text-slate-800 text-lg">Settlements Processing</div>
                            </div>
                            <span class="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full font-medium" data-en="Finance" data-uk="Ğ¤Ñ–Ğ½Ğ°Ğ½ÑĞ¸">Finance</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-3 ml-11" data-en="Amazon generates settlement reports every ~14 days (not on demand). System uses use_existing flag to fetch latest available. Special filter removes section headers and NULL rows. Critical for accurate financial reconciliation." data-uk="Amazon Ğ³ĞµĞ½ĞµÑ€ÑƒÑ” Ğ·Ğ²Ñ–Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ½ĞºĞ¸ ĞºĞ¾Ğ¶Ğ½Ñ– ~14 Ğ´Ğ½Ñ–Ğ² (Ğ½Ğµ Ğ½Ğ° Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ñƒ). Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ” Ğ¿Ñ€Ğ°Ğ¿Ğ¾Ñ€ĞµÑ†ÑŒ use_existing Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ¾ÑÑ‚Ğ°Ğ½Ğ½ÑŒĞ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾. Ğ¡Ğ¿ĞµÑ†Ñ–Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ñ„Ñ–Ğ»ÑŒÑ‚Ñ€ Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ” Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ ÑĞµĞºÑ†Ñ–Ğ¹ Ñ‚Ğ° NULL Ñ€ÑĞ´ĞºĞ¸. ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ñ— Ñ„Ñ–Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¾Ñ— Ğ·Ğ²Ñ–Ñ€ĞºĞ¸.">Amazon generates settlement reports every ~14 days (not on demand). System uses use_existing flag to fetch latest available. Special filter removes section headers and NULL rows. Critical for accurate financial reconciliation.</p>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center">
                    <div class="text-3xl font-bold text-emerald-600">10</div>
                    <div class="text-xs text-slate-500 mt-1" data-en="Features" data-uk="Ğ¤Ñ–ÑˆĞ¾Ğº">Features</div>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center">
                    <div class="text-3xl font-bold text-blue-600">0</div>
                    <div class="text-xs text-slate-500 mt-1" data-en="Manual Fixes/Week" data-uk="Ğ ÑƒÑ‡Ğ½Ğ¸Ñ… Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ÑŒ/Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ">Manual Fixes/Week</div>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center">
                    <div class="text-3xl font-bold text-purple-600">3x</div>
                    <div class="text-xs text-slate-500 mt-1" data-en="Speed Boost" data-uk="ĞŸÑ€Ğ¸ÑĞºĞ¾Ñ€ĞµĞ½Ğ½Ñ">Speed Boost</div>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center">
                    <div class="text-3xl font-bold text-orange-600">24/7</div>
                    <div class="text-xs text-slate-500 mt-1" data-en="Autonomous" data-uk="ĞĞ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ğ¾">Autonomous</div>
                </div>
            </div>
        </div>

        <!-- 5. LOGIC & API -->
        <div id="view-logic" class="hidden space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="Exit Codes" data-uk="Exit Codes">Exit Codes</h3>
                    <div class="space-y-3">
                        <div class="flex items-center p-3 bg-emerald-50 rounded-lg"><span class="w-10 h-10 flex items-center justify-center bg-emerald-500 text-white font-mono font-bold rounded mr-3">0</span><div><div class="font-bold" data-en="Success" data-uk="Ğ£ÑĞ¿Ñ–Ñ…">Success</div><div class="text-xs text-slate-500" data-en="Completed" data-uk="Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾">Completed</div></div></div>
                        <div class="flex items-center p-3 bg-red-50 rounded-lg"><span class="w-10 h-10 flex items-center justify-center bg-red-500 text-white font-mono font-bold rounded mr-3">1</span><div><div class="font-bold" data-en="Error" data-uk="ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°">Error</div><div class="text-xs text-slate-500" data-en="Critical failure" data-uk="ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ğ·Ğ±Ñ–Ğ¹">Critical failure</div></div></div>
                        <div class="flex items-center p-3 bg-blue-50 rounded-lg"><span class="w-10 h-10 flex items-center justify-center bg-blue-500 text-white font-mono font-bold rounded mr-3">2</span><div><div class="font-bold" data-en="Auto-Fixed" data-uk="ĞĞ²Ñ‚Ğ¾-Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾">Auto-Fixed</div><div class="text-xs text-slate-500" data-en="Self-corrected" data-uk="Ğ¡Ğ°Ğ¼Ğ¾-Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾">Self-corrected</div></div></div>
                        <div class="flex items-center p-3 bg-slate-50 rounded-lg"><span class="w-10 h-10 flex items-center justify-center bg-slate-500 text-white font-mono font-bold rounded mr-3">143</span><div><div class="font-bold">SIGTERM</div><div class="text-xs text-slate-500">Graceful shutdown</div></div></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 text-slate-800" data-en="SP-API Reports (30+)" data-uk="SP-API Ğ—Ğ²Ñ–Ñ‚Ğ¸ (30+)">SP-API Reports (30+)</h3>
                    <div class="grid grid-cols-2 gap-2 text-sm">
                        <div class="p-2 bg-emerald-50 rounded">ğŸ“¦ fba_inventory</div>
                        <div class="p-2 bg-emerald-50 rounded">ğŸ“¦ reserved_inventory</div>
                        <div class="p-2 bg-emerald-50 rounded">ğŸ“¦ afn_inventory</div>
                        <div class="p-2 bg-emerald-50 rounded">ğŸ“¦ stranded_inventory</div>
                        <div class="p-2 bg-blue-50 rounded">ğŸ›’ orders_by_date</div>
                        <div class="p-2 bg-blue-50 rounded">ğŸšš fba_shipments</div>
                        <div class="p-2 bg-blue-50 rounded">â†©ï¸ fba_returns</div>
                        <div class="p-2 bg-yellow-50 rounded">ğŸ’° settlements</div>
                        <div class="p-2 bg-yellow-50 rounded">ğŸ’³ fba_fees</div>
                        <div class="p-2 bg-yellow-50 rounded">ğŸ’³ storage_fees</div>
                        <div class="p-2 bg-yellow-50 rounded">ğŸ’³ referral_fees</div>
                        <div class="p-2 bg-purple-50 rounded">ğŸ“ merchant_listings</div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        let currentLang = 'en';
        
        function switchLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) el.textContent = text;
            });
        }

        function switchTab(tabId) {
            const tabs = ['overview', 'execution', 'architecture', 'features', 'logic'];
            tabs.forEach(id => {
                document.getElementById(`view-${id}`).classList.add('hidden');
                document.getElementById(`btn-${id}`).classList.remove('active');
            });
            document.getElementById(`view-${tabId}`).classList.remove('hidden');
            document.getElementById(`btn-${tabId}`).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const ctxEff = document.getElementById('efficiencyChart');
            if (ctxEff) {
                new Chart(ctxEff.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Downtime (min)', 'Manual Fixes/Week', 'Report Types'],
                        datasets: [
                            { label: 'Old (v3)', data: [180, 5, 10], backgroundColor: '#94a3b8', borderRadius: 6 },
                            { label: 'New (v5)', data: [5, 0, 30], backgroundColor: '#10b981', borderRadius: 6 }
                        ]
                    },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: true } } }
                });
            }

            const ctxFeat = document.getElementById('featuresChart');
            if (ctxFeat) {
                new Chart(ctxFeat.getContext('2d'), {
                    type: 'radar',
                    data: {
                        labels: ['Reliability', 'Speed', 'Data Integrity', 'Maintainability', 'Scalability'],
                        datasets: [{ label: 'System Score', data: [95, 90, 100, 95, 85], fill: true, backgroundColor: 'rgba(59, 130, 246, 0.2)', borderColor: '#3b82f6', pointBackgroundColor: '#3b82f6' }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { r: { suggestedMin: 0, suggestedMax: 100 } } }
                });
            }
        });
    </script>
</body>
</html>
